<!doctype html><html lang=en dir=ltr><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="technical-documentation-system    üëã ‚ö†Ô∏è This project is experimental, and I don&rsquo;t intend for it to be adopted by others until I&rsquo;ve validated its usefulness and sensibility.
  This documentation system exists as an experiment in providing a few features that I am coming to believe help ensure great technical documentation:
 Code updates and any required changes to relevant documentation can be completed in one workflow, a pull request."><meta name=theme-color content="#FFFFFF"><meta property="og:title" content><meta property="og:description" content><meta property="og:type" content="website"><meta property="og:url" content="http://thundergolfer.com/uni/docs/tools/build/docs/technical-documentation-system/"><title>Technical Documentation System | uni' docs</title><link rel=manifest href=/uni/manifest.json><link rel=icon href=/uni/favicon.png type=image/x-icon><link rel=stylesheet href=/uni/book.min.958cea7827621d6fbcb3acf091344c3e44e3d2a9428f9c3c38bb9eb37bf8c45d.css integrity="sha256-lYzqeCdiHW+8s6zwkTRMPkTj0qlCj5w8OLues3v4xF0=" crossorigin=anonymous><script defer src=/uni/flexsearch.min.js></script><script defer src=/uni/en.search.min.bc2c1c1be88f05decd0dab985c5cef5bf3a8fa0385bdfd128ab704793b9e6895.js integrity="sha256-vCwcG+iPBd7NDauYXFzvW/Oo+gOFvf0SircEeTueaJU=" crossorigin=anonymous></script><link rel=alternate type=application/rss+xml href=http://thundergolfer.com/uni/docs/tools/build/docs/technical-documentation-system/index.xml title="uni' docs"></head><body dir=ltr><input type=checkbox class="hidden toggle" id=menu-control>
<input type=checkbox class="hidden toggle" id=toc-control><main class="container flex"><aside class=book-menu><div class=book-menu-content><nav><h2 class=book-brand><a href=/uni/><span>uni' docs</span></a></h2><div class=book-search><input type=text id=book-search-input placeholder=Search aria-label=Search maxlength=64 data-hotkeys=s/><div class="book-search-spinner hidden"></div><ul id=book-search-results></ul></div><ul><li><span>Books</span><ul><li><a href=http://thundergolfer.com/uni/docs/books/computer_systems_app/>Computer Systems App</a><ul><li><span>Labs</span><ul><li><a href=http://thundergolfer.com/uni/docs/books/computer_systems_app/labs/architecture/>Architecture</a><ul></ul></li><li><a href=http://thundergolfer.com/uni/docs/books/computer_systems_app/labs/attack/>Attack</a><ul></ul></li><li><a href=http://thundergolfer.com/uni/docs/books/computer_systems_app/labs/binary_bomb/>Binary Bomb</a><ul></ul></li><li><a href=http://thundergolfer.com/uni/docs/books/computer_systems_app/labs/buffer/>Buffer</a><ul></ul></li><li><a href=http://thundergolfer.com/uni/docs/books/computer_systems_app/labs/cache/>Cache</a><ul></ul></li><li><a href=http://thundergolfer.com/uni/docs/books/computer_systems_app/labs/data/>Data</a><ul></ul></li><li><a href=http://thundergolfer.com/uni/docs/books/computer_systems_app/labs/malloc/>Malloc</a><ul></ul></li><li><a href=http://thundergolfer.com/uni/docs/books/computer_systems_app/labs/performance/>Performance</a><ul></ul></li><li><a href=http://thundergolfer.com/uni/docs/books/computer_systems_app/labs/proxy/>Proxy</a><ul></ul></li><li><a href=http://thundergolfer.com/uni/docs/books/computer_systems_app/labs/shell/>Shell</a><ul></ul></li></ul></li></ul></li><li><a href=http://thundergolfer.com/uni/docs/books/data_science_from_scratch/>Data Science From Scratch</a><ul><li><a href=http://thundergolfer.com/uni/docs/books/data_science_from_scratch/2_a_crash_course_in_python/>2 a Crash Course in Python</a><ul></ul></li></ul></li></ul></li><li><a href=http://thundergolfer.com/uni/docs/concurrency/>Concurrency</a><ul></ul></li><li><span>Databases</span><ul><li><a href=http://thundergolfer.com/uni/docs/databases/fromscratch_heapfile_and_hashindex/>Fromscratch Heapfile and Hashindex</a><ul></ul></li><li><a href=http://thundergolfer.com/uni/docs/databases/sql/>SQL</a><ul></ul></li></ul></li><li><span>Operating Systems</span><ul><li><span>Linux</span><ul><li><a href=http://thundergolfer.com/uni/docs/operating_systems/linux/strace_in_seventy_lines/>Strace in Seventy Lines</a><ul></ul></li></ul></li></ul></li><li><span>Optimization</span><ul><li><a href=http://thundergolfer.com/uni/docs/optimization/basic_neuralnet_lib/>Basic Neuralnet Lib</a><ul></ul></li></ul></li><li><a href=http://thundergolfer.com/uni/docs/performance/>Performance</a><ul><li><span>Jvm</span><ul><li><a href=http://thundergolfer.com/uni/docs/performance/jvm/bytebuffer-allocatedirect/>Bytebuffer Allocatedirect</a><ul></ul></li></ul></li></ul></li><li><span>Tools</span><ul><li><span>Build</span><ul><li><span>Bazel</span><ul><li><a href=http://thundergolfer.com/uni/docs/tools/build/bazel/rules_julia/>Rules Julia</a><ul></ul></li><li><a href=http://thundergolfer.com/uni/docs/tools/build/bazel/rules_nim/>Rules Nim</a><ul></ul></li></ul></li><li><span>Docs</span><ul><li><a href=http://thundergolfer.com/uni/docs/tools/build/docs/technical-documentation-system/ class=active>Technical Documentation System</a><ul></ul></li></ul></li></ul></li></ul></li></ul></nav><script>(function(){var a=document.querySelector("aside .book-menu-content");addEventListener("beforeunload",function(b){localStorage.setItem("menu.scrollTop",a.scrollTop)}),a.scrollTop=localStorage.getItem("menu.scrollTop")})()</script></div></aside><div class=book-page><header class=book-header><div class="flex align-center justify-between"><label for=menu-control><img src=/uni/svg/menu.svg class=book-icon alt=Menu></label>
<strong>Technical Documentation System</strong>
<label for=toc-control><img src=/uni/svg/toc.svg class=book-icon alt="Table of Contents"></label></div><aside class="hidden clearfix"><nav id=TableOfContents><ul><li><a href=#usage>Usage</a><ul><li><a href=#basic-static-documentation-webserver>Basic Static Documentation Webserver.</a></li></ul></li><li><a href=#installation>Installation</a></li><li><a href=#development>Development</a><ul><li><a href=#build>Build</a></li><li><a href=#test>Test</a></li></ul></li></ul></nav></aside></header><article class=markdown><p align=center><img src=https://user-images.githubusercontent.com/12058921/85215787-98fc8480-b3c0-11ea-8d11-3f5eab64144b.png height=150px></p><h1 align=center><code>technical-documentation-system</code></h1><p align=center><a href=https://github.com/thundergolfer/technical-documentation-system/actions/><img src=https://github.com/thundergolfer/technical-documentation-system/workflows/CI/badge.svg></a></p><hr><blockquote><p>üëã ‚ö†Ô∏è <strong>This project is <em>experimental</em>, and I don&rsquo;t intend for it to be adopted by others until I&rsquo;ve validated its usefulness and sensibility.</strong></p></blockquote><hr><p>This documentation system exists as an experiment in providing a few features that I am coming to believe help ensure great technical documentation:</p><ol><li><strong>Code updates and any required changes to relevant documentation can be completed in <em>one workflow</em>, a pull request.</strong><ul><li>No jumping into <a href=https://www.atlassian.com/software/confluence><em>Confluence</em></a> once a pull request is merged.</li></ul></li><li><strong>Code in documentation should <em>run</em>.</strong> Any code shown in technical documentation has automated testing for compilation and format.<ul><li>No copy-pasting code from docs and finding a referenced object has been removed/renamed or that there&rsquo;s a missing semicolon.</li></ul></li><li><strong>Code in documentation should be tested.</strong> Any code functionality shown in technical documentation can be unit or integration tested.<ul><li>No more forgetting to update documentation when you change the behaviour of your code.</li></ul></li></ol><blockquote><p><strong>Note:</strong> This documentation system is built to integrate with the <a href=https://bazel.build/>Bazel</a> build system. üíöüåø</p></blockquote><h2 id=usage>Usage
<a class=anchor href=#usage>#</a></h2><p>This system acts a pre-processor, taking Markdown documentation files as input, converting special references to code targets into
&lsquo;materialised&rsquo; code blocks and returning Markdown files as output.</p><p>During pre-processing, the Bazel build system can also run tests and other checks on referenced code, as referenced code just a
target in the build graph.</p><p>To provide this functionality, <strong><code>technical-documentation-system</code></strong> exposes the <code>technical_documents</code> Bazel rule:</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python>technical_documents(
    name <span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;doc_1&#34;</span>,
    inputs <span style=color:#f92672>=</span> [<span style=color:#e6db74>&#34;hello-world.md&#34;</span>],
    references <span style=color:#f92672>=</span> [
        <span style=color:#e6db74>&#34;//foo/bar&#34;</span>,
        <span style=color:#e6db74>&#34;//bee/boo:biz&#34;</span>,
    ],
)
</code></pre></div><p>For detailed documentation of the rule, see: <a href><code>TODO.md</code></a>.</p><h3 id=basic-static-documentation-webserver>Basic Static Documentation Webserver.
<a class=anchor href=#basic-static-documentation-webserver>#</a></h3><p>While the system is designed to be agnostic of the particular documentation framework used, a minimal &lsquo;render and serve&rsquo; engine
is provided. It is exposed via the <code>technical_documentation_website</code> Bazel rule:</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python>technical_documentation_website(
    name <span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;all_docs&#34;</span>,
    srcs <span style=color:#f92672>=</span> {
        <span style=color:#e6db74>&#34;//:doc_1&#34;</span>: <span style=color:#e6db74>&#34;/foo&#34;</span>  <span style=color:#75715e># &lt;key = document&gt; : &lt;value = position in website&#39;s doc-tree&gt;</span>
    }
)
</code></pre></div><p>Use <code>bazel run //path/to:all_docs</code> to run the minimal document server at <a href=http://localhost:8000/>localhost:8000</a>. üöÄ</p><p>Any Markdown documents in <code>//:doc_1</code> will be served under <code>/foo/</code>, eg. <code>localhost/foo/getting-started.md</code>.</p><h2 id=installation>Installation
<a class=anchor href=#installation>#</a></h2><blockquote><p>üëã <strong>NOTE:</strong> These installation instructions are only relevant once this code is moved to its own repo.</p></blockquote><p>The project has no dependencies, so it&rsquo;s easy to install in your Bazel <code>WORKSPACE</code>:</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python>tech_docs_system_version <span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;&lt;some git-sha&gt;&#34;</span>

http_archive(
    name <span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;technical_documentation_system&#34;</span>,
    sha256 <span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;&#34;</span>,
    strip_prefix <span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;technical-documentation-system-</span><span style=color:#e6db74>{version}</span><span style=color:#e6db74>&#34;</span><span style=color:#f92672>.</span>format(version <span style=color:#f92672>=</span> tech_docs_system_version),
    url <span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;https://github.com/thundergolfer/technical-documentation-system/archive/</span><span style=color:#e6db74>{version}</span><span style=color:#e6db74>.tar.gz&#34;</span><span style=color:#f92672>.</span>format(
        version <span style=color:#f92672>=</span> tech_docs_system_version,
    ),
)
</code></pre></div><h2 id=development>Development
<a class=anchor href=#development>#</a></h2><h3 id=build>Build
<a class=anchor href=#build>#</a></h3><p><code>bazel build //...</code></p><h3 id=test>Test
<a class=anchor href=#test>#</a></h3><p><code>bazel test //...</code></p></article><footer class=book-footer><div class="flex flex-wrap justify-between"></div><script>(function(){function a(c){const a=window.getSelection(),b=document.createRange();b.selectNodeContents(c),a.removeAllRanges(),a.addRange(b)}document.querySelectorAll("pre code").forEach(b=>{b.addEventListener("click",function(c){a(b.parentElement),navigator.clipboard&&navigator.clipboard.writeText(b.parentElement.textContent)})})})()</script></footer><div class=book-comments></div><label for=menu-control class="hidden book-menu-overlay"></label></div><aside class=book-toc><div class=book-toc-content><nav id=TableOfContents><ul><li><a href=#usage>Usage</a><ul><li><a href=#basic-static-documentation-webserver>Basic Static Documentation Webserver.</a></li></ul></li><li><a href=#installation>Installation</a></li><li><a href=#development>Development</a><ul><li><a href=#build>Build</a></li><li><a href=#test>Test</a></li></ul></li></ul></nav></div></aside></main></body></html>